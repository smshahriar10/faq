{"version":3,"file":"init.js","sourceRoot":"","sources":["../../src/hooks/init.ts"],"names":[],"mappings":"AACA,OAAO,EAAC,aAAa,EAAC,MAAM,0BAA0B,CAAA;AAEtD,MAAM,IAAI,GAAiB,KAAK,EAAE,OAAO,EAAE,EAAE;IAC3C,MAAM,UAAU,GAAG,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAA;IAC5D,MAAM,iBAAiB,GAAG,UAAU,CAAC,QAAQ,CAAC,uBAAuB,CAAC,CAAA;IAEtE,MAAM,iBAAiB,GAAG,OAAO,CAAC,EAAE,EAAE,UAAU,CAAC,WAAW,CAAC,CAAA;IAC7D,MAAM,aAAa,GAAG,OAAO,CAAC,EAAE,KAAK,eAAe,CAAA;IACpD,IAAI,iBAAiB,IAAI,CAAC,iBAAiB,IAAI,CAAC,aAAa,EAAE;QAC7D,aAAa,CAAC;YACZ,IAAI,EAAE;gBACJ,mFAAmF;gBACnF,KAAK;gBACL,EAAC,OAAO,EAAE,uBAAuB,EAAC;gBAClC,mCAAmC;aACpC;SACF,CAAC,CAAA;QACF,OAAO,CAAC,IAAI,EAAE,CAAA;KACf;AACH,CAAC,CAAA;AAED,eAAe,IAAI,CAAA","sourcesContent":["import {Hook} from '@oclif/core'\nimport {renderWarning} from '@shopify/cli-kit/node/ui'\n\nconst hook: Hook<'init'> = async (options) => {\n  const pluginList = Array.from(options.config.plugins.keys())\n  const hasHydrogenPlugin = pluginList.includes('@shopify/cli-hydrogen')\n\n  const isHydrogenCommand = options.id?.startsWith('hydrogen:')\n  const isInitCommand = options.id === 'hydrogen:init'\n  if (isHydrogenCommand && !hasHydrogenPlugin && !isInitCommand) {\n    renderWarning({\n      body: [\n        `Looks like you're trying to run a Hydrogen command outside of a Hydrogen project.`,\n        'Run',\n        {command: 'shopify hydrogen init'},\n        'to create a new Hydrogen project.',\n      ],\n    })\n    process.exit()\n  }\n}\n\nexport default hook\n"]}