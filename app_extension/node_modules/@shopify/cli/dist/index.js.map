{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":"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","sourcesContent":["/* eslint-disable @shopify/cli/specific-imports-in-bootstrap-code */\nimport VersionCommand from './cli/commands/version.js'\nimport Search from './cli/commands/search.js'\nimport Upgrade from './cli/commands/upgrade.js'\nimport Logout from './cli/commands/auth/logout.js'\nimport CommandFlags from './cli/commands/debug/command-flags.js'\nimport Catalog from './cli/commands/demo/catalog.js'\nimport GenerateFile from './cli/commands/demo/generate-file.js'\nimport PrintAIPrompt from './cli/commands/demo/print-ai-prompt.js'\nimport KitchenSinkAsync from './cli/commands/kitchen-sink/async.js'\nimport KitchenSinkPrompts from './cli/commands/kitchen-sink/prompts.js'\nimport KitchenSinkStatic from './cli/commands/kitchen-sink/static.js'\nimport HydrogenInit from './cli/commands/hydrogen/init.js'\nimport DocsGenerate from './cli/commands/docs/generate.js'\nimport HelpCommand from './cli/commands/help.js'\nimport AppCommands from '@shopify/app'\nimport ThemeCommands from '@shopify/theme'\nimport {commands as PluginCommandsCommands} from '@oclif/plugin-commands'\nimport {commands as PluginPluginsCommands} from '@oclif/plugin-plugins'\nimport {DidYouMeanCommands} from '@shopify/plugin-did-you-mean'\nimport {runCLI, useLocalCLIIfDetected} from '@shopify/cli-kit/node/cli'\nimport fs from 'fs'\n\nexport {DidYouMeanHook} from '@shopify/plugin-did-you-mean'\nexport {default as TunnelStartHook} from '@shopify/plugin-cloudflare/hooks/tunnel'\nexport {default as TunnelProviderHook} from '@shopify/plugin-cloudflare/hooks/provider'\nexport {hooks as PluginHook} from '@oclif/plugin-plugins'\n\n// In some cases (for example when we boot the proxy server), when an exception is\n// thrown, no 'exit' signal is sent to the process. We don't understand this fully.\n// This means that any cleanup code that depends on \"process.on('exit', ...)\" will\n// not be called. The tunnel plugin is an example of that. Here we make sure to print\n// the error stack and manually call exit so that the cleanup code is called. This\n// makes sure that there are no lingering tunnel processes.\nprocess.on('uncaughtException', (err) => {\n  fs.writeSync(process.stderr.fd, `${err.stack || err.message || err}\\n`)\n  process.exit(1)\n})\nconst signals = ['SIGINT', 'SIGTERM', 'SIGQUIT']\nsignals.forEach((signal) => {\n  process.on(signal, () => {\n    process.exit(1)\n  })\n})\n\n// Sometimes we want to specify a precise amount of stdout columns, for example in\n// CI or on a cloud environment.\nconst columns = Number(process.env.SHOPIFY_CLI_COLUMNS)\nif (!isNaN(columns)) {\n  process.stdout.columns = columns\n}\n\ninterface RunShopifyCLIOptions {\n  development: boolean\n}\n\nasync function runShopifyCLI({development}: RunShopifyCLIOptions) {\n  if (!development) {\n    // If we run a local CLI instead, don't run the global one again after!\n    const ranLocalInstead = await useLocalCLIIfDetected(import.meta.url)\n    if (ranLocalInstead) {\n      return\n    }\n  }\n\n  await runCLI({\n    moduleURL: import.meta.url,\n    development,\n  })\n}\n\n// Hide plugins command\nPluginPluginsCommands.plugins.hidden = true\n\n// Remove default description because it injects a path from the generating computer, making it fail on CI\nPluginPluginsCommands['plugins:install'].description = ''\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const COMMANDS: any = {\n  ...AppCommands,\n  ...ThemeCommands,\n  ...PluginPluginsCommands,\n  ...DidYouMeanCommands,\n  ...PluginCommandsCommands,\n  search: Search,\n  upgrade: Upgrade,\n  version: VersionCommand,\n  help: HelpCommand,\n  'auth:logout': Logout,\n  'debug:command-flags': CommandFlags,\n  'demo:catalog': Catalog,\n  'demo:generate-file': GenerateFile,\n  'demo:print-ai-prompt': PrintAIPrompt,\n  'kitchen-sink:async': KitchenSinkAsync,\n  'kitchen-sink:prompts': KitchenSinkPrompts,\n  'kitchen-sink:static': KitchenSinkStatic,\n  'hydrogen:init': HydrogenInit,\n  'docs:generate': DocsGenerate,\n}\n\nexport default runShopifyCLI\n"]}