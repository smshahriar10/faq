{"version":3,"file":"upgrade.js","sourceRoot":"","sources":["../../../src/cli/commands/upgrade.ts"],"names":[],"mappings":";AAAA,OAAO,OAAO,MAAM,oCAAoC,CAAA;AACxD,OAAO,EAAC,sBAAsB,EAAE,+BAA+B,EAAC,MAAM,iCAAiC,CAAA;AACvG,OAAO,EAAC,2BAA2B,EAAC,MAAM,4CAA4C,CAAA;AACtF,OAAO,EAAC,UAAU,EAAC,MAAM,0BAA0B,CAAA;AAEnD,MAAqB,OAAQ,SAAQ,OAAO;IAO1C,KAAK,CAAC,GAAG;QACP,MAAM,QAAQ,GAAG,sBAAsB,EAAE,CAAA;QACzC,IAAI,cAAc,GAAG,2BAA2B,EAAE,IAAI,+BAA+B,EAAE,CAAA;QACvF,IAAI,cAAc,KAAK,SAAS;YAAE,cAAc,GAAG,KAAK,CAAA;QAExD,IAAI,cAAc,GAAG,GAAG,cAAc,MAAM,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,qBAAqB,CAAA;QACtF,IAAI,cAAc,KAAK,MAAM,EAAE;YAC7B,cAAc,GAAG,QAAQ,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,yBAAyB,CAAA;SAC5E;QAED,UAAU,CAAC;YACT,IAAI,EAAE,CAAC,oDAAoD,EAAE,UAAU,EAAE,EAAC,OAAO,EAAE,cAAc,EAAC,CAAC;SACpG,CAAC,CAAA;IACJ,CAAC;;;AAnBM,eAAO,GAAG,8CAA8C,AAAjD,CAAiD;AAExD,+BAAuB,GAAG,8CAA8C,AAAjD,CAAiD;AAExE,mBAAW,GAAG,EAAI,CAAC,0BAA0B,EAAE,AAApC,CAAoC;eALnC,OAAO","sourcesContent":["import Command from '@shopify/cli-kit/node/base-command'\nimport {currentProcessIsGlobal, inferPackageManagerForGlobalCLI} from '@shopify/cli-kit/node/is-global'\nimport {packageManagerFromUserAgent} from '@shopify/cli-kit/node/node-package-manager'\nimport {renderInfo} from '@shopify/cli-kit/node/ui'\n\nexport default class Upgrade extends Command {\n  static summary = 'Shows details on how to upgrade Shopify CLI.'\n\n  static descriptionWithMarkdown = 'Shows details on how to upgrade Shopify CLI.'\n\n  static description = this.descriptionWithoutMarkdown()\n\n  async run(): Promise<void> {\n    const isGlobal = currentProcessIsGlobal()\n    let packageManager = packageManagerFromUserAgent() ?? inferPackageManagerForGlobalCLI()\n    if (packageManager === 'unknown') packageManager = 'npm'\n\n    let installCommand = `${packageManager} i ${isGlobal ? '-g ' : ''}@shopify/cli@latest`\n    if (packageManager === 'yarn') {\n      installCommand = `yarn ${isGlobal ? 'global ' : ''}add @shopify/cli@latest`\n    }\n\n    renderInfo({\n      body: [`To upgrade Shopify CLI use your package manager.\\n`, `Example:`, {command: installCommand}],\n    })\n  }\n}\n"]}