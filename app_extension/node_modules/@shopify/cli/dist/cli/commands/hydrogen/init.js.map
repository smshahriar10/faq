{"version":3,"file":"init.js","sourceRoot":"","sources":["../../../../src/cli/commands/hydrogen/init.ts"],"names":[],"mappings":"AAAA,OAAO,OAAO,MAAM,oCAAoC,CAAA;AACxD,OAAO,EAAC,UAAU,EAAC,MAAM,8BAA8B,CAAA;AACvD,OAAO,EAAC,IAAI,EAAC,MAAM,8BAA8B,CAAA;AAEjD,MAAqB,IAAK,SAAQ,OAAO;IAIvC,KAAK,CAAC,GAAG;QACP,MAAM,IAAI,GAAG,CAAC,MAAM,EAAE,iCAAiC,CAAC,CAAA;QAExD,8CAA8C;QAC9C,MAAM,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAA;QAE9C,4DAA4D;QAC5D,MAAM,KAAK,GAAG,CAAC,IAAI,EAAE,mBAAmB,EAAE,SAAS,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,CAAA;QAC9F,IAAI,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,CAAA;QAEnB,IAAI;YACF,MAAM,IAAI,CAAC,KAAK,EAAE,IAAI,EAAE,EAAC,KAAK,EAAE,SAAS,EAAC,CAAC,CAAA;SAC5C;QAAC,OAAO,KAAK,EAAE;YACd,IAAI,KAAK,YAAY,KAAK,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE;gBAC9D,UAAU,CAAC,0BAA0B,CAAC,CAAA;aACvC;iBAAM;gBACL,MAAM,KAAK,CAAA;aACZ;SACF;IACH,CAAC;;AAtBM,YAAO,GAAG,+BAA+B,CAAA;AACzC,WAAM,GAAG,KAAK,CAAA;eAFF,IAAI","sourcesContent":["import Command from '@shopify/cli-kit/node/base-command'\nimport {outputInfo} from '@shopify/cli-kit/node/output'\nimport {exec} from '@shopify/cli-kit/node/system'\n\nexport default class Init extends Command {\n  static summary = 'Create a new hydrogen project'\n  static strict = false\n\n  async run(): Promise<void> {\n    const args = ['exec', '@shopify/create-hydrogen@latest']\n\n    // Remove everything before the `init` command\n    const initIndex = process.argv.indexOf('init')\n\n    // Force hydrogen to show a package manager selection prompt\n    const flags = ['--', '--package-manager', 'unknown'].concat(process.argv.slice(initIndex + 1))\n    args.push(...flags)\n\n    try {\n      await exec('npm', args, {stdio: 'inherit'})\n    } catch (error) {\n      if (error instanceof Error && error.message.includes('SIGINT')) {\n        outputInfo('Hydrogen init cancelled.')\n      } else {\n        throw error\n      }\n    }\n  }\n}\n"]}